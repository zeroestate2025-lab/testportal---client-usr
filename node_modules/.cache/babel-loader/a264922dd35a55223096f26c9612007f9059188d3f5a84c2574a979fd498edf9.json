{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\Downloads\\\\INTERVIEW PROCESS\\\\INTERVIEW PROCESS\\\\client\\\\src\\\\pages\\\\TestPage.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport API from \"../services/api\";\nimport \"../styles/TestPage.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction pickRandom(arr, n) {\n  const copy = [...arr];\n  const res = [];\n  while (res.length < n && copy.length > 0) {\n    const idx = Math.floor(Math.random() * copy.length);\n    res.push(copy.splice(idx, 1)[0]);\n  }\n  return res;\n}\nexport default function TestPage() {\n  _s();\n  var _currentQ$options;\n  const location = useLocation();\n  const navigate = useNavigate();\n  const {\n    fullName,\n    email,\n    numQ\n  } = location.state || {};\n  const [allQuestions, setAllQuestions] = useState([]);\n  const [questions, setQuestions] = useState([]);\n  const [answers, setAnswers] = useState({});\n  const [currentIdx, setCurrentIdx] = useState(0);\n  const [loading, setLoading] = useState(true);\n  const [submitted, setSubmitted] = useState(false);\n  const [score, setScore] = useState(0);\n  const [resultSaved, setResultSaved] = useState(false);\n\n  // ðŸŸ¢ Fetch questions\n  useEffect(() => {\n    if (!fullName || !email) {\n      navigate(\"/\");\n      return;\n    }\n    const fetchQuestions = async () => {\n      try {\n        const res = await API.questions.getAll();\n        setAllQuestions(res.data || []);\n      } catch (err) {\n        console.error(err);\n        alert(\"Failed to fetch questions from server.\");\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchQuestions();\n  }, [fullName, email, navigate]);\n\n  // ðŸŸ¢ Pick random questions\n  useEffect(() => {\n    if (!loading && allQuestions.length > 0) {\n      const selected = pickRandom(allQuestions, Math.min(numQ || 10, allQuestions.length));\n      setQuestions(selected);\n    }\n  }, [loading, allQuestions, numQ]);\n  const handleSelect = (questionId, value) => {\n    setAnswers({\n      ...answers,\n      [questionId]: value\n    });\n  };\n  const goNext = () => {\n    if (currentIdx < questions.length - 1) setCurrentIdx(currentIdx + 1);\n  };\n  const goPrev = () => {\n    if (currentIdx > 0) setCurrentIdx(currentIdx - 1);\n  };\n\n  // ðŸŸ¢ Submit handler\n  const handleSubmit = async () => {\n    if (Object.keys(answers).length < questions.length) {\n      if (!window.confirm(\"Some questions are unanswered. Submit anyway?\")) return;\n    }\n\n    // Calculate score only for MCQs\n    let s = 0;\n    questions.forEach(q => {\n      if (q.questionType === \"MCQ\" && answers[q._id] === q.correctAnswer) s += 1;\n    });\n    setScore(s);\n    setSubmitted(true);\n\n    // Prepare formatted answers\n    const formattedAnswers = questions.map(q => ({\n      question: q.questionText,\n      userAnswer: answers[q._id] || \"Not answered\",\n      correctAnswer: q.correctAnswer || \"\",\n      isCorrect: q.questionType === \"MCQ\" ? answers[q._id] === q.correctAnswer : null,\n      type: q.questionType || \"Theory\"\n    }));\n    try {\n      await API.tests.submit({\n        name: fullName,\n        email,\n        answers: formattedAnswers,\n        totalQuestions: questions.length,\n        correctAnswers: s,\n        scorePercent: (s / questions.length * 100).toFixed(2)\n      });\n      setResultSaved(true);\n    } catch (err) {\n      console.error(\"Error saving result:\", err);\n      alert(\"Failed to save result to server.\");\n    }\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container container-center\",\n    children: \"Loading questions\\u2026\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 110,\n    columnNumber: 23\n  }, this);\n  if (!questions || questions.length === 0) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container container-center\",\n    children: \"No questions available. Please try later.\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 112,\n    columnNumber: 12\n  }, this);\n  if (submitted) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container container-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card card-clean p-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-success\",\n          children: \"Test Completed Successfully\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: fullName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 14\n          }, this), \" (\", email, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: [\"Your Score: \", score, \" / \", questions.length]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this), resultSaved && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"alert alert-success mt-2\",\n          children: \"\\u2705 Your result has been recorded successfully!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n          children: \"Review Answers\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: questions.map((q, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"review-question\",\n            children: [/*#__PURE__*/_jsxDEV(\"b\", {\n              children: [\"Q\", idx + 1, \":\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 17\n            }, this), \" \", q.questionText, /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [\"Your answer:\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: q.questionType === \"MCQ\" ? answers[q._id] === q.correctAnswer ? \"text-success\" : \"text-danger\" : \"text-primary\",\n                children: answers[q._id] || \"Not answered\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 136,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 17\n            }, this), q.questionType === \"MCQ\" && /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [\"Correct answer:\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-success\",\n                children: q.correctAnswer\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 19\n            }, this)]\n          }, q._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary me-2\",\n            onClick: () => navigate(\"/\"),\n            children: \"Back to Home\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-outline-secondary\",\n            onClick: () => window.location.reload(),\n            children: \"Retake Test\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }, this);\n  }\n  const currentQ = questions[currentIdx];\n  const selectedAnswer = answers[currentQ._id] || \"\";\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"test-container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card test-card\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"test-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            className: \"text-danger fw-bold\",\n            children: [\"Candidate: \", fullName.toLowerCase()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n            className: \"text-muted\",\n            children: email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"badge bg-primary\",\n            children: [\"Question \", currentIdx + 1, \" / \", questions.length]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"test-body\",\n        children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n          className: \"question-text\",\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Q:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 13\n          }, this), \" \", currentQ.questionText]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }, this), currentQ.questionType === \"MCQ\" && ((_currentQ$options = currentQ.options) === null || _currentQ$options === void 0 ? void 0 : _currentQ$options.length) > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"options-container\",\n          children: currentQ.options.map((opt, i) => /*#__PURE__*/_jsxDEV(\"label\", {\n            className: `option-item ${selectedAnswer === opt ? \"selected\" : \"\"}`,\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"radio\",\n              name: `question-${currentQ._id}`,\n              value: opt,\n              checked: selectedAnswer === opt,\n              onChange: e => handleSelect(currentQ._id, e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 19\n            }, this), opt]\n          }, i, true, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"textarea\", {\n          className: \"theory-input\",\n          placeholder: \"Type your answer here...\",\n          value: selectedAnswer,\n          onChange: e => handleSelect(currentQ._id, e.target.value),\n          rows: 5\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"test-footer\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-secondary me-2\",\n            onClick: goPrev,\n            disabled: currentIdx === 0,\n            children: \"Previous\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-secondary\",\n            onClick: goNext,\n            disabled: currentIdx === questions.length - 1,\n            children: \"Next\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-danger me-2\",\n            onClick: () => {\n              if (window.confirm(\"Are you sure you want to abandon this test?\")) navigate(\"/\");\n            },\n            children: \"Abandon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-success\",\n            onClick: handleSubmit,\n            children: \"Submit Test\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 175,\n    columnNumber: 5\n  }, this);\n}\n\n// import React, { useEffect, useState } from \"react\";\n// import { useLocation, useNavigate } from \"react-router-dom\";\n// import API from \"../services/api\";\n// import QuestionCard from \"../components/QuestionCard\";\n// import \"../styles/TestPage.css\";\n\n// function pickRandom(arr, n) {\n//   const copy = [...arr];\n//   const res = [];\n//   while (res.length < n && copy.length > 0) {\n//     const idx = Math.floor(Math.random() * copy.length);\n//     res.push(copy.splice(idx, 1)[0]);\n//   }\n//   return res;\n// }\n\n// export default function TestPage() {\n//   const location = useLocation();\n//   const navigate = useNavigate();\n//   const { fullName, email, numQ } = location.state || {};\n//   const [allQuestions, setAllQuestions] = useState([]);\n//   const [questions, setQuestions] = useState([]);\n//   const [answers, setAnswers] = useState({});\n//   const [currentIdx, setCurrentIdx] = useState(0);\n//   const [loading, setLoading] = useState(true);\n//   const [submitted, setSubmitted] = useState(false);\n//   const [score, setScore] = useState(0);\n//   const [resultSaved, setResultSaved] = useState(false);\n\n//   useEffect(() => {\n//     if (!fullName || !email) {\n//       navigate(\"/\");\n//       return;\n//     }\n\n//     const fetchQuestions = async () => {\n//       try {\n//         const res = await API.get(\"/questions\");\n//         setAllQuestions(res.data || []);\n//       } catch (err) {\n//         console.error(err);\n//         alert(\"Failed to fetch questions from server.\");\n//       } finally {\n//         setLoading(false);\n//       }\n//     };\n\n//     fetchQuestions();\n//   }, [fullName, email, navigate]);\n\n//   useEffect(() => {\n//     if (!loading && allQuestions.length > 0) {\n//       const selected = pickRandom(allQuestions, Math.min(numQ || 10, allQuestions.length));\n//       setQuestions(selected);\n//     }\n//   }, [loading, allQuestions, numQ]);\n\n//   const handleSelect = (opt) => {\n//     const q = questions[currentIdx];\n//     setAnswers({ ...answers, [q._id]: opt });\n//   };\n\n//   const goNext = () => {\n//     if (currentIdx < questions.length - 1) setCurrentIdx(currentIdx + 1);\n//   };\n//   const goPrev = () => {\n//     if (currentIdx > 0) setCurrentIdx(currentIdx - 1);\n//   };\n\n//   const handleSubmit = async () => {\n//     if (Object.keys(answers).length < questions.length) {\n//       if (!window.confirm(\"Some questions are unanswered. Submit anyway?\")) return;\n//     }\n\n//     // calculate score\n//     let s = 0;\n//     questions.forEach((q) => {\n//       if (answers[q._id] && answers[q._id] === q.correctAnswer) s += 1;\n//     });\n//     setScore(s);\n//     setSubmitted(true);\n\n//     // format answers for backend\n//     const formattedAnswers = questions.map((q) => ({\n//       question: q.questionText,\n//       userAnswer: answers[q._id] || \"Not answered\",\n//       correctAnswer: q.correctAnswer,\n//       isCorrect: answers[q._id] === q.correctAnswer,\n//     }));\n\n//     try {\n//       await API.post(\"/tests\", {\n//         name: fullName,\n//         email,\n//         answers: formattedAnswers,\n//       });\n//       setResultSaved(true);\n//     } catch (err) {\n//       console.error(\"Error saving result:\", err);\n//       alert(\"Failed to save result to server.\");\n//     }\n//   };\n\n//   if (loading) return <div className=\"container container-center\">Loading questionsâ€¦</div>;\n//   if (!questions || questions.length === 0)\n//     return <div className=\"container container-center\">No questions available. Please try later.</div>;\n\n//   if (submitted) {\n//     return (\n//       <div className=\"container container-center\">\n//         <div className=\"card card-clean p-4\">\n//           <h3 className=\"text-success\">Test Completed Successfully</h3>\n//           <p><strong>{fullName}</strong> ({email})</p>\n//           <h4>Your Score: {score} / {questions.length}</h4>\n\n//           {resultSaved && (\n//             <div className=\"alert alert-success mt-2\">\n//               âœ… Your result has been recorded successfully!\n//             </div>\n//           )}\n\n//           <hr />\n//           <h5>Review Answers</h5>\n//           <div>\n//             {questions.map((q, idx) => (\n//               <div className=\"mb-3\" key={q._id}>\n//                 <b>Q{idx + 1}:</b> {q.questionText}\n//                 <div>\n//                   Your answer:{\" \"}\n//                   <span\n//                     className={\n//                       answers[q._id] === q.correctAnswer\n//                         ? \"text-success\"\n//                         : \"text-danger\"\n//                     }\n//                   >\n//                     {answers[q._id] || \"Not answered\"}\n//                   </span>\n//                 </div>\n//                 <div>\n//                   Correct answer:{\" \"}\n//                   <span className=\"text-success\">{q.correctAnswer}</span>\n//                 </div>\n//               </div>\n//             ))}\n//           </div>\n\n//           <div className=\"mt-3\">\n//             <button className=\"btn btn-primary me-2\" onClick={() => navigate(\"/\")}>\n//               Back to Home\n//             </button>\n//             <button className=\"btn btn-outline-secondary\" onClick={() => window.location.reload()}>\n//               Retake Test\n//             </button>\n//           </div>\n//         </div>\n//       </div>\n//     );\n//   }\n\n//   const currentQ = questions[currentIdx];\n//   const selectedForCurrent = answers[currentQ._id];\n\n//   return (\n//     <div className=\"container container-center\">\n//       <div className=\"card card-clean p-4\">\n//         <div className=\"d-flex justify-content-between align-items-start\">\n//           <div>\n//             <h5 className=\"mb-0\">Candidate: {fullName}</h5>\n//             <small className=\"text-muted\">{email}</small>\n//           </div>\n//           <div>\n//             <span className=\"badge bg-primary\">\n//               Question {currentIdx + 1} / {questions.length}\n//             </span>\n//           </div>\n//         </div>\n\n//         <div className=\"mt-4\">\n//           <QuestionCard\n//             question={currentQ}\n//             selectedAnswer={selectedForCurrent}\n//             onSelect={handleSelect}\n//           />\n//         </div>\n\n//         <div className=\"mt-3 d-flex justify-content-between\">\n//           <div>\n//             <button\n//               className=\"btn btn-secondary me-2\"\n//               onClick={goPrev}\n//               disabled={currentIdx === 0}\n//             >\n//               Previous\n//             </button>\n//             <button\n//               className=\"btn btn-secondary\"\n//               onClick={goNext}\n//               disabled={currentIdx === questions.length - 1}\n//             >\n//               Next\n//             </button>\n//           </div>\n\n//           <div>\n//             <button\n//               className=\"btn btn-danger me-2\"\n//               onClick={() => {\n//                 if (window.confirm(\"Are you sure you want to abandon this test?\"))\n//                   navigate(\"/\");\n//               }}\n//             >\n//               Abandon\n//             </button>\n\n//             <button className=\"btn btn-success\" onClick={handleSubmit}>\n//               Submit Test\n//             </button>\n//           </div>\n//         </div>\n//       </div>\n//     </div>\n//   );\n// }\n\n// // import React, { useEffect, useState } from \"react\";\n// // import { useLocation, useNavigate } from \"react-router-dom\";\n// // import API from \"../services/api\";\n// // import QuestionCard from \"../components/QuestionCard\";\n// // import \"../styles/TestPage.css\";\n\n// // function pickRandom(arr, n) {\n// //   const copy = [...arr];\n// //   const res = [];\n// //   while (res.length < n && copy.length > 0) {\n// //     const idx = Math.floor(Math.random() * copy.length);\n// //     res.push(copy.splice(idx, 1)[0]);\n// //   }\n// //   return res;\n// // }\n\n// // export default function TestPage() {\n// //   const location = useLocation();\n// //   const navigate = useNavigate();\n// //   const { fullName, email, numQ } = location.state || {};\n// //   const [allQuestions, setAllQuestions] = useState([]);\n// //   const [questions, setQuestions] = useState([]);\n// //   const [answers, setAnswers] = useState({}); // { questionId: selectedOption }\n// //   const [currentIdx, setCurrentIdx] = useState(0);\n// //   const [loading, setLoading] = useState(true);\n// //   const [submitted, setSubmitted] = useState(false);\n// //   const [score, setScore] = useState(0);\n\n// //   useEffect(() => {\n// //     if (!fullName || !email) {\n// //       // if page opened without details -> back to home\n// //       navigate(\"/\");\n// //       return;\n// //     }\n\n// //     const fetchQuestions = async () => {\n// //       try {\n// //         const res = await API.get(\"/questions\");\n// //         setAllQuestions(res.data || []);\n// //       } catch (err) {\n// //         console.error(err);\n// //         alert(\"Failed to fetch questions from server.\");\n// //       } finally {\n// //         setLoading(false);\n// //       }\n// //     };\n\n// //     fetchQuestions();\n// //   }, [fullName, email, navigate]);\n\n// //   useEffect(() => {\n// //     if (!loading && allQuestions.length > 0) {\n// //       const chunk = pickRandom(allQuestions, Math.min(numQ || 10, allQuestions.length));\n// //       setQuestions(chunk);\n// //     }\n// //   }, [loading, allQuestions, numQ]);\n\n// //   const handleSelect = (opt) => {\n// //     const q = questions[currentIdx];\n// //     setAnswers({ ...answers, [q._id]: opt });\n// //   };\n\n// //   const goNext = () => {\n// //     if (currentIdx < questions.length - 1) setCurrentIdx(currentIdx + 1);\n// //   };\n// //   const goPrev = () => {\n// //     if (currentIdx > 0) setCurrentIdx(currentIdx - 1);\n// //   };\n\n// //   const handleSubmit = () => {\n// //     // ensure all answered\n// //     if (Object.keys(answers).length < questions.length) {\n// //       if (!window.confirm(\"Some questions are unanswered. Submit anyway?\")) return;\n// //     }\n\n// //     // compute score\n// //     let s = 0;\n// //     questions.forEach((q) => {\n// //       if (answers[q._id] && answers[q._id] === q.correctAnswer) s += 1;\n// //     });\n// //     setScore(s);\n// //     setSubmitted(true);\n// //   };\n\n// //   if (loading) return <div className=\"container container-center\">Loading questionsâ€¦</div>;\n// //   if (!questions || questions.length === 0) return <div className=\"container container-center\">No questions available. Please try later.</div>;\n\n// //   if (submitted) {\n// //     return (\n// //       <div className=\"container container-center\">\n// //         <div className=\"card card-clean p-4\">\n// //           <h3>Test Completed</h3>\n// //           <p><strong>{fullName}</strong> ({email})</p>\n// //           <h4>Your score: {score} out of {questions.length}</h4>\n// //           <hr />\n// //           <h5>Review</h5>\n// //           <div>\n// //             {questions.map((q, idx) => (\n// //               <div className=\"mb-3\" key={q._id}>\n// //                 <b>Q{idx + 1}:</b> {q.questionText}\n// //                 <div>Your answer: <span className={answers[q._id] === q.correctAnswer ? \"text-success\" : \"text-danger\"}>{answers[q._id] || \"Not answered\"}</span></div>\n// //                 <div>Correct answer: <span className=\"text-success\">{q.correctAnswer}</span></div>\n// //               </div>\n// //             ))}\n// //           </div>\n\n// //           <div className=\"mt-3\">\n// //             <button className=\"btn btn-primary me-2\" onClick={() => navigate(\"/\")}>Back to Home</button>\n// //             <button className=\"btn btn-outline-secondary\" onClick={() => window.location.reload()}>Take New Test</button>\n// //           </div>\n// //         </div>\n// //       </div>\n// //     );\n// //   }\n\n// //   const currentQ = questions[currentIdx];\n// //   const selectedForCurrent = answers[currentQ._id];\n\n// //   return (\n// //     <div className=\"container container-center\">\n// //       <div className=\"card card-clean p-4\">\n// //         <div className=\"d-flex justify-content-between align-items-start\">\n// //           <div>\n// //             <h5 className=\"mb-0\">Candidate: {fullName}</h5>\n// //             <small className=\"text-muted\">{email}</small>\n// //           </div>\n// //           <div>\n// //             <span className=\"badge bg-primary\">Question {currentIdx + 1} / {questions.length}</span>\n// //           </div>\n// //         </div>\n\n// //         <div className=\"mt-4\">\n// //           <QuestionCard question={currentQ} selectedAnswer={selectedForCurrent} onSelect={handleSelect} />\n// //         </div>\n\n// //         <div className=\"mt-3 d-flex justify-content-between\">\n// //           <div>\n// //             <button className=\"btn btn-secondary me-2\" onClick={goPrev} disabled={currentIdx === 0}>Previous</button>\n// //             <button className=\"btn btn-secondary\" onClick={goNext} disabled={currentIdx === questions.length - 1}>Next</button>\n// //           </div>\n\n// //           <div>\n// //             <button className=\"btn btn-danger me-2\" onClick={() => {\n// //               if (window.confirm(\"Are you sure you want to abandon this test?\")) navigate(\"/\");\n// //             }}>Abandon</button>\n\n// //             <button className=\"btn btn-success\" onClick={handleSubmit}>Submit Test</button>\n// //           </div>\n// //         </div>\n// //       </div>\n// //     </div>\n// //   );\n// // }\n_s(TestPage, \"ciYXyczRBTaciDa7JubBM8j2IBI=\", false, function () {\n  return [useLocation, useNavigate];\n});\n_c = TestPage;\nvar _c;\n$RefreshReg$(_c, \"TestPage\");","map":{"version":3,"names":["React","useEffect","useState","useLocation","useNavigate","API","jsxDEV","_jsxDEV","pickRandom","arr","n","copy","res","length","idx","Math","floor","random","push","splice","TestPage","_s","_currentQ$options","location","navigate","fullName","email","numQ","state","allQuestions","setAllQuestions","questions","setQuestions","answers","setAnswers","currentIdx","setCurrentIdx","loading","setLoading","submitted","setSubmitted","score","setScore","resultSaved","setResultSaved","fetchQuestions","getAll","data","err","console","error","alert","selected","min","handleSelect","questionId","value","goNext","goPrev","handleSubmit","Object","keys","window","confirm","s","forEach","q","questionType","_id","correctAnswer","formattedAnswers","map","question","questionText","userAnswer","isCorrect","type","tests","submit","name","totalQuestions","correctAnswers","scorePercent","toFixed","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","reload","currentQ","selectedAnswer","toLowerCase","options","opt","i","checked","onChange","e","target","placeholder","rows","disabled","_c","$RefreshReg$"],"sources":["C:/Users/HP/Downloads/INTERVIEW PROCESS/INTERVIEW PROCESS/client/src/pages/TestPage.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useLocation, useNavigate } from \"react-router-dom\";\r\nimport API from \"../services/api\";\r\nimport \"../styles/TestPage.css\";\r\n\r\nfunction pickRandom(arr, n) {\r\n  const copy = [...arr];\r\n  const res = [];\r\n  while (res.length < n && copy.length > 0) {\r\n    const idx = Math.floor(Math.random() * copy.length);\r\n    res.push(copy.splice(idx, 1)[0]);\r\n  }\r\n  return res;\r\n}\r\n\r\nexport default function TestPage() {\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n  const { fullName, email, numQ } = location.state || {};\r\n\r\n  const [allQuestions, setAllQuestions] = useState([]);\r\n  const [questions, setQuestions] = useState([]);\r\n  const [answers, setAnswers] = useState({});\r\n  const [currentIdx, setCurrentIdx] = useState(0);\r\n  const [loading, setLoading] = useState(true);\r\n  const [submitted, setSubmitted] = useState(false);\r\n  const [score, setScore] = useState(0);\r\n  const [resultSaved, setResultSaved] = useState(false);\r\n\r\n  // ðŸŸ¢ Fetch questions\r\n  useEffect(() => {\r\n    if (!fullName || !email) {\r\n      navigate(\"/\");\r\n      return;\r\n    }\r\n\r\n    const fetchQuestions = async () => {\r\n      try {\r\n        const res = await API.questions.getAll();\r\n        setAllQuestions(res.data || []);\r\n      } catch (err) {\r\n        console.error(err);\r\n        alert(\"Failed to fetch questions from server.\");\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchQuestions();\r\n  }, [fullName, email, navigate]);\r\n\r\n  // ðŸŸ¢ Pick random questions\r\n  useEffect(() => {\r\n    if (!loading && allQuestions.length > 0) {\r\n      const selected = pickRandom(allQuestions, Math.min(numQ || 10, allQuestions.length));\r\n      setQuestions(selected);\r\n    }\r\n  }, [loading, allQuestions, numQ]);\r\n\r\n  const handleSelect = (questionId, value) => {\r\n    setAnswers({ ...answers, [questionId]: value });\r\n  };\r\n\r\n  const goNext = () => {\r\n    if (currentIdx < questions.length - 1) setCurrentIdx(currentIdx + 1);\r\n  };\r\n  const goPrev = () => {\r\n    if (currentIdx > 0) setCurrentIdx(currentIdx - 1);\r\n  };\r\n\r\n  // ðŸŸ¢ Submit handler\r\n  const handleSubmit = async () => {\r\n    if (Object.keys(answers).length < questions.length) {\r\n      if (!window.confirm(\"Some questions are unanswered. Submit anyway?\")) return;\r\n    }\r\n\r\n    // Calculate score only for MCQs\r\n    let s = 0;\r\n    questions.forEach((q) => {\r\n      if (q.questionType === \"MCQ\" && answers[q._id] === q.correctAnswer) s += 1;\r\n    });\r\n    setScore(s);\r\n    setSubmitted(true);\r\n\r\n    // Prepare formatted answers\r\n    const formattedAnswers = questions.map((q) => ({\r\n      question: q.questionText,\r\n      userAnswer: answers[q._id] || \"Not answered\",\r\n      correctAnswer: q.correctAnswer || \"\",\r\n      isCorrect: q.questionType === \"MCQ\" ? answers[q._id] === q.correctAnswer : null,\r\n      type: q.questionType || \"Theory\",\r\n    }));\r\n\r\n    try {\r\n      await API.tests.submit({\r\n        name: fullName,\r\n        email,\r\n        answers: formattedAnswers,\r\n        totalQuestions: questions.length,\r\n        correctAnswers: s,\r\n        scorePercent: ((s / questions.length) * 100).toFixed(2),\r\n      });\r\n      setResultSaved(true);\r\n    } catch (err) {\r\n      console.error(\"Error saving result:\", err);\r\n      alert(\"Failed to save result to server.\");\r\n    }\r\n  };\r\n\r\n  if (loading) return <div className=\"container container-center\">Loading questionsâ€¦</div>;\r\n  if (!questions || questions.length === 0)\r\n    return <div className=\"container container-center\">No questions available. Please try later.</div>;\r\n\r\n  if (submitted) {\r\n    return (\r\n      <div className=\"container container-center\">\r\n        <div className=\"card card-clean p-4\">\r\n          <h3 className=\"text-success\">Test Completed Successfully</h3>\r\n          <p><strong>{fullName}</strong> ({email})</p>\r\n          <h4>Your Score: {score} / {questions.length}</h4>\r\n\r\n          {resultSaved && (\r\n            <div className=\"alert alert-success mt-2\">\r\n              âœ… Your result has been recorded successfully!\r\n            </div>\r\n          )}\r\n\r\n          <hr />\r\n          <h5>Review Answers</h5>\r\n          <div>\r\n            {questions.map((q, idx) => (\r\n              <div className=\"review-question\" key={q._id}>\r\n                <b>Q{idx + 1}:</b> {q.questionText}\r\n                <div>\r\n                  Your answer:{\" \"}\r\n                  <span\r\n                    className={\r\n                      q.questionType === \"MCQ\"\r\n                        ? answers[q._id] === q.correctAnswer\r\n                          ? \"text-success\"\r\n                          : \"text-danger\"\r\n                        : \"text-primary\"\r\n                    }\r\n                  >\r\n                    {answers[q._id] || \"Not answered\"}\r\n                  </span>\r\n                </div>\r\n                {q.questionType === \"MCQ\" && (\r\n                  <div>\r\n                    Correct answer:{\" \"}\r\n                    <span className=\"text-success\">{q.correctAnswer}</span>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            ))}\r\n          </div>\r\n\r\n          <div className=\"mt-4\">\r\n            <button className=\"btn btn-primary me-2\" onClick={() => navigate(\"/\")}>\r\n              Back to Home\r\n            </button>\r\n            <button className=\"btn btn-outline-secondary\" onClick={() => window.location.reload()}>\r\n              Retake Test\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const currentQ = questions[currentIdx];\r\n  const selectedAnswer = answers[currentQ._id] || \"\";\r\n\r\n  return (\r\n    <div className=\"test-container\">\r\n      <div className=\"card test-card\">\r\n        <div className=\"test-header\">\r\n          <div>\r\n            <h5 className=\"text-danger fw-bold\">\r\n              Candidate: {fullName.toLowerCase()}\r\n            </h5>\r\n            <small className=\"text-muted\">{email}</small>\r\n          </div>\r\n          <div>\r\n            <span className=\"badge bg-primary\">\r\n              Question {currentIdx + 1} / {questions.length}\r\n            </span>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"test-body\">\r\n          <h6 className=\"question-text\">\r\n            <b>Q:</b> {currentQ.questionText}\r\n          </h6>\r\n\r\n          {/* ðŸ§  Conditional rendering for MCQ / Theory */}\r\n          {currentQ.questionType === \"MCQ\" && currentQ.options?.length > 0 ? (\r\n            <div className=\"options-container\">\r\n              {currentQ.options.map((opt, i) => (\r\n                <label\r\n                  key={i}\r\n                  className={`option-item ${\r\n                    selectedAnswer === opt ? \"selected\" : \"\"\r\n                  }`}\r\n                >\r\n                  <input\r\n                    type=\"radio\"\r\n                    name={`question-${currentQ._id}`}\r\n                    value={opt}\r\n                    checked={selectedAnswer === opt}\r\n                    onChange={(e) => handleSelect(currentQ._id, e.target.value)}\r\n                  />\r\n                  {opt}\r\n                </label>\r\n              ))}\r\n            </div>\r\n          ) : (\r\n            <textarea\r\n              className=\"theory-input\"\r\n              placeholder=\"Type your answer here...\"\r\n              value={selectedAnswer}\r\n              onChange={(e) => handleSelect(currentQ._id, e.target.value)}\r\n              rows={5}\r\n            ></textarea>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"test-footer\">\r\n          <div>\r\n            <button\r\n              className=\"btn btn-secondary me-2\"\r\n              onClick={goPrev}\r\n              disabled={currentIdx === 0}\r\n            >\r\n              Previous\r\n            </button>\r\n            <button\r\n              className=\"btn btn-secondary\"\r\n              onClick={goNext}\r\n              disabled={currentIdx === questions.length - 1}\r\n            >\r\n              Next\r\n            </button>\r\n          </div>\r\n\r\n          <div>\r\n            <button\r\n              className=\"btn btn-danger me-2\"\r\n              onClick={() => {\r\n                if (window.confirm(\"Are you sure you want to abandon this test?\"))\r\n                  navigate(\"/\");\r\n              }}\r\n            >\r\n              Abandon\r\n            </button>\r\n            <button className=\"btn btn-success\" onClick={handleSubmit}>\r\n              Submit Test\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// import React, { useEffect, useState } from \"react\";\r\n// import { useLocation, useNavigate } from \"react-router-dom\";\r\n// import API from \"../services/api\";\r\n// import QuestionCard from \"../components/QuestionCard\";\r\n// import \"../styles/TestPage.css\";\r\n\r\n// function pickRandom(arr, n) {\r\n//   const copy = [...arr];\r\n//   const res = [];\r\n//   while (res.length < n && copy.length > 0) {\r\n//     const idx = Math.floor(Math.random() * copy.length);\r\n//     res.push(copy.splice(idx, 1)[0]);\r\n//   }\r\n//   return res;\r\n// }\r\n\r\n// export default function TestPage() {\r\n//   const location = useLocation();\r\n//   const navigate = useNavigate();\r\n//   const { fullName, email, numQ } = location.state || {};\r\n//   const [allQuestions, setAllQuestions] = useState([]);\r\n//   const [questions, setQuestions] = useState([]);\r\n//   const [answers, setAnswers] = useState({});\r\n//   const [currentIdx, setCurrentIdx] = useState(0);\r\n//   const [loading, setLoading] = useState(true);\r\n//   const [submitted, setSubmitted] = useState(false);\r\n//   const [score, setScore] = useState(0);\r\n//   const [resultSaved, setResultSaved] = useState(false);\r\n\r\n//   useEffect(() => {\r\n//     if (!fullName || !email) {\r\n//       navigate(\"/\");\r\n//       return;\r\n//     }\r\n\r\n//     const fetchQuestions = async () => {\r\n//       try {\r\n//         const res = await API.get(\"/questions\");\r\n//         setAllQuestions(res.data || []);\r\n//       } catch (err) {\r\n//         console.error(err);\r\n//         alert(\"Failed to fetch questions from server.\");\r\n//       } finally {\r\n//         setLoading(false);\r\n//       }\r\n//     };\r\n\r\n//     fetchQuestions();\r\n//   }, [fullName, email, navigate]);\r\n\r\n//   useEffect(() => {\r\n//     if (!loading && allQuestions.length > 0) {\r\n//       const selected = pickRandom(allQuestions, Math.min(numQ || 10, allQuestions.length));\r\n//       setQuestions(selected);\r\n//     }\r\n//   }, [loading, allQuestions, numQ]);\r\n\r\n//   const handleSelect = (opt) => {\r\n//     const q = questions[currentIdx];\r\n//     setAnswers({ ...answers, [q._id]: opt });\r\n//   };\r\n\r\n//   const goNext = () => {\r\n//     if (currentIdx < questions.length - 1) setCurrentIdx(currentIdx + 1);\r\n//   };\r\n//   const goPrev = () => {\r\n//     if (currentIdx > 0) setCurrentIdx(currentIdx - 1);\r\n//   };\r\n\r\n//   const handleSubmit = async () => {\r\n//     if (Object.keys(answers).length < questions.length) {\r\n//       if (!window.confirm(\"Some questions are unanswered. Submit anyway?\")) return;\r\n//     }\r\n\r\n//     // calculate score\r\n//     let s = 0;\r\n//     questions.forEach((q) => {\r\n//       if (answers[q._id] && answers[q._id] === q.correctAnswer) s += 1;\r\n//     });\r\n//     setScore(s);\r\n//     setSubmitted(true);\r\n\r\n//     // format answers for backend\r\n//     const formattedAnswers = questions.map((q) => ({\r\n//       question: q.questionText,\r\n//       userAnswer: answers[q._id] || \"Not answered\",\r\n//       correctAnswer: q.correctAnswer,\r\n//       isCorrect: answers[q._id] === q.correctAnswer,\r\n//     }));\r\n\r\n//     try {\r\n//       await API.post(\"/tests\", {\r\n//         name: fullName,\r\n//         email,\r\n//         answers: formattedAnswers,\r\n//       });\r\n//       setResultSaved(true);\r\n//     } catch (err) {\r\n//       console.error(\"Error saving result:\", err);\r\n//       alert(\"Failed to save result to server.\");\r\n//     }\r\n//   };\r\n\r\n//   if (loading) return <div className=\"container container-center\">Loading questionsâ€¦</div>;\r\n//   if (!questions || questions.length === 0)\r\n//     return <div className=\"container container-center\">No questions available. Please try later.</div>;\r\n\r\n//   if (submitted) {\r\n//     return (\r\n//       <div className=\"container container-center\">\r\n//         <div className=\"card card-clean p-4\">\r\n//           <h3 className=\"text-success\">Test Completed Successfully</h3>\r\n//           <p><strong>{fullName}</strong> ({email})</p>\r\n//           <h4>Your Score: {score} / {questions.length}</h4>\r\n\r\n//           {resultSaved && (\r\n//             <div className=\"alert alert-success mt-2\">\r\n//               âœ… Your result has been recorded successfully!\r\n//             </div>\r\n//           )}\r\n\r\n//           <hr />\r\n//           <h5>Review Answers</h5>\r\n//           <div>\r\n//             {questions.map((q, idx) => (\r\n//               <div className=\"mb-3\" key={q._id}>\r\n//                 <b>Q{idx + 1}:</b> {q.questionText}\r\n//                 <div>\r\n//                   Your answer:{\" \"}\r\n//                   <span\r\n//                     className={\r\n//                       answers[q._id] === q.correctAnswer\r\n//                         ? \"text-success\"\r\n//                         : \"text-danger\"\r\n//                     }\r\n//                   >\r\n//                     {answers[q._id] || \"Not answered\"}\r\n//                   </span>\r\n//                 </div>\r\n//                 <div>\r\n//                   Correct answer:{\" \"}\r\n//                   <span className=\"text-success\">{q.correctAnswer}</span>\r\n//                 </div>\r\n//               </div>\r\n//             ))}\r\n//           </div>\r\n\r\n//           <div className=\"mt-3\">\r\n//             <button className=\"btn btn-primary me-2\" onClick={() => navigate(\"/\")}>\r\n//               Back to Home\r\n//             </button>\r\n//             <button className=\"btn btn-outline-secondary\" onClick={() => window.location.reload()}>\r\n//               Retake Test\r\n//             </button>\r\n//           </div>\r\n//         </div>\r\n//       </div>\r\n//     );\r\n//   }\r\n\r\n//   const currentQ = questions[currentIdx];\r\n//   const selectedForCurrent = answers[currentQ._id];\r\n\r\n//   return (\r\n//     <div className=\"container container-center\">\r\n//       <div className=\"card card-clean p-4\">\r\n//         <div className=\"d-flex justify-content-between align-items-start\">\r\n//           <div>\r\n//             <h5 className=\"mb-0\">Candidate: {fullName}</h5>\r\n//             <small className=\"text-muted\">{email}</small>\r\n//           </div>\r\n//           <div>\r\n//             <span className=\"badge bg-primary\">\r\n//               Question {currentIdx + 1} / {questions.length}\r\n//             </span>\r\n//           </div>\r\n//         </div>\r\n\r\n//         <div className=\"mt-4\">\r\n//           <QuestionCard\r\n//             question={currentQ}\r\n//             selectedAnswer={selectedForCurrent}\r\n//             onSelect={handleSelect}\r\n//           />\r\n//         </div>\r\n\r\n//         <div className=\"mt-3 d-flex justify-content-between\">\r\n//           <div>\r\n//             <button\r\n//               className=\"btn btn-secondary me-2\"\r\n//               onClick={goPrev}\r\n//               disabled={currentIdx === 0}\r\n//             >\r\n//               Previous\r\n//             </button>\r\n//             <button\r\n//               className=\"btn btn-secondary\"\r\n//               onClick={goNext}\r\n//               disabled={currentIdx === questions.length - 1}\r\n//             >\r\n//               Next\r\n//             </button>\r\n//           </div>\r\n\r\n//           <div>\r\n//             <button\r\n//               className=\"btn btn-danger me-2\"\r\n//               onClick={() => {\r\n//                 if (window.confirm(\"Are you sure you want to abandon this test?\"))\r\n//                   navigate(\"/\");\r\n//               }}\r\n//             >\r\n//               Abandon\r\n//             </button>\r\n\r\n//             <button className=\"btn btn-success\" onClick={handleSubmit}>\r\n//               Submit Test\r\n//             </button>\r\n//           </div>\r\n//         </div>\r\n//       </div>\r\n//     </div>\r\n//   );\r\n// }\r\n\r\n// // import React, { useEffect, useState } from \"react\";\r\n// // import { useLocation, useNavigate } from \"react-router-dom\";\r\n// // import API from \"../services/api\";\r\n// // import QuestionCard from \"../components/QuestionCard\";\r\n// // import \"../styles/TestPage.css\";\r\n\r\n// // function pickRandom(arr, n) {\r\n// //   const copy = [...arr];\r\n// //   const res = [];\r\n// //   while (res.length < n && copy.length > 0) {\r\n// //     const idx = Math.floor(Math.random() * copy.length);\r\n// //     res.push(copy.splice(idx, 1)[0]);\r\n// //   }\r\n// //   return res;\r\n// // }\r\n\r\n// // export default function TestPage() {\r\n// //   const location = useLocation();\r\n// //   const navigate = useNavigate();\r\n// //   const { fullName, email, numQ } = location.state || {};\r\n// //   const [allQuestions, setAllQuestions] = useState([]);\r\n// //   const [questions, setQuestions] = useState([]);\r\n// //   const [answers, setAnswers] = useState({}); // { questionId: selectedOption }\r\n// //   const [currentIdx, setCurrentIdx] = useState(0);\r\n// //   const [loading, setLoading] = useState(true);\r\n// //   const [submitted, setSubmitted] = useState(false);\r\n// //   const [score, setScore] = useState(0);\r\n\r\n// //   useEffect(() => {\r\n// //     if (!fullName || !email) {\r\n// //       // if page opened without details -> back to home\r\n// //       navigate(\"/\");\r\n// //       return;\r\n// //     }\r\n\r\n// //     const fetchQuestions = async () => {\r\n// //       try {\r\n// //         const res = await API.get(\"/questions\");\r\n// //         setAllQuestions(res.data || []);\r\n// //       } catch (err) {\r\n// //         console.error(err);\r\n// //         alert(\"Failed to fetch questions from server.\");\r\n// //       } finally {\r\n// //         setLoading(false);\r\n// //       }\r\n// //     };\r\n\r\n// //     fetchQuestions();\r\n// //   }, [fullName, email, navigate]);\r\n\r\n// //   useEffect(() => {\r\n// //     if (!loading && allQuestions.length > 0) {\r\n// //       const chunk = pickRandom(allQuestions, Math.min(numQ || 10, allQuestions.length));\r\n// //       setQuestions(chunk);\r\n// //     }\r\n// //   }, [loading, allQuestions, numQ]);\r\n\r\n// //   const handleSelect = (opt) => {\r\n// //     const q = questions[currentIdx];\r\n// //     setAnswers({ ...answers, [q._id]: opt });\r\n// //   };\r\n\r\n// //   const goNext = () => {\r\n// //     if (currentIdx < questions.length - 1) setCurrentIdx(currentIdx + 1);\r\n// //   };\r\n// //   const goPrev = () => {\r\n// //     if (currentIdx > 0) setCurrentIdx(currentIdx - 1);\r\n// //   };\r\n\r\n// //   const handleSubmit = () => {\r\n// //     // ensure all answered\r\n// //     if (Object.keys(answers).length < questions.length) {\r\n// //       if (!window.confirm(\"Some questions are unanswered. Submit anyway?\")) return;\r\n// //     }\r\n\r\n// //     // compute score\r\n// //     let s = 0;\r\n// //     questions.forEach((q) => {\r\n// //       if (answers[q._id] && answers[q._id] === q.correctAnswer) s += 1;\r\n// //     });\r\n// //     setScore(s);\r\n// //     setSubmitted(true);\r\n// //   };\r\n\r\n// //   if (loading) return <div className=\"container container-center\">Loading questionsâ€¦</div>;\r\n// //   if (!questions || questions.length === 0) return <div className=\"container container-center\">No questions available. Please try later.</div>;\r\n\r\n// //   if (submitted) {\r\n// //     return (\r\n// //       <div className=\"container container-center\">\r\n// //         <div className=\"card card-clean p-4\">\r\n// //           <h3>Test Completed</h3>\r\n// //           <p><strong>{fullName}</strong> ({email})</p>\r\n// //           <h4>Your score: {score} out of {questions.length}</h4>\r\n// //           <hr />\r\n// //           <h5>Review</h5>\r\n// //           <div>\r\n// //             {questions.map((q, idx) => (\r\n// //               <div className=\"mb-3\" key={q._id}>\r\n// //                 <b>Q{idx + 1}:</b> {q.questionText}\r\n// //                 <div>Your answer: <span className={answers[q._id] === q.correctAnswer ? \"text-success\" : \"text-danger\"}>{answers[q._id] || \"Not answered\"}</span></div>\r\n// //                 <div>Correct answer: <span className=\"text-success\">{q.correctAnswer}</span></div>\r\n// //               </div>\r\n// //             ))}\r\n// //           </div>\r\n\r\n// //           <div className=\"mt-3\">\r\n// //             <button className=\"btn btn-primary me-2\" onClick={() => navigate(\"/\")}>Back to Home</button>\r\n// //             <button className=\"btn btn-outline-secondary\" onClick={() => window.location.reload()}>Take New Test</button>\r\n// //           </div>\r\n// //         </div>\r\n// //       </div>\r\n// //     );\r\n// //   }\r\n\r\n// //   const currentQ = questions[currentIdx];\r\n// //   const selectedForCurrent = answers[currentQ._id];\r\n\r\n// //   return (\r\n// //     <div className=\"container container-center\">\r\n// //       <div className=\"card card-clean p-4\">\r\n// //         <div className=\"d-flex justify-content-between align-items-start\">\r\n// //           <div>\r\n// //             <h5 className=\"mb-0\">Candidate: {fullName}</h5>\r\n// //             <small className=\"text-muted\">{email}</small>\r\n// //           </div>\r\n// //           <div>\r\n// //             <span className=\"badge bg-primary\">Question {currentIdx + 1} / {questions.length}</span>\r\n// //           </div>\r\n// //         </div>\r\n\r\n// //         <div className=\"mt-4\">\r\n// //           <QuestionCard question={currentQ} selectedAnswer={selectedForCurrent} onSelect={handleSelect} />\r\n// //         </div>\r\n\r\n// //         <div className=\"mt-3 d-flex justify-content-between\">\r\n// //           <div>\r\n// //             <button className=\"btn btn-secondary me-2\" onClick={goPrev} disabled={currentIdx === 0}>Previous</button>\r\n// //             <button className=\"btn btn-secondary\" onClick={goNext} disabled={currentIdx === questions.length - 1}>Next</button>\r\n// //           </div>\r\n\r\n// //           <div>\r\n// //             <button className=\"btn btn-danger me-2\" onClick={() => {\r\n// //               if (window.confirm(\"Are you sure you want to abandon this test?\")) navigate(\"/\");\r\n// //             }}>Abandon</button>\r\n\r\n// //             <button className=\"btn btn-success\" onClick={handleSubmit}>Submit Test</button>\r\n// //           </div>\r\n// //         </div>\r\n// //       </div>\r\n// //     </div>\r\n// //   );\r\n// // }\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,WAAW,EAAEC,WAAW,QAAQ,kBAAkB;AAC3D,OAAOC,GAAG,MAAM,iBAAiB;AACjC,OAAO,wBAAwB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEhC,SAASC,UAAUA,CAACC,GAAG,EAAEC,CAAC,EAAE;EAC1B,MAAMC,IAAI,GAAG,CAAC,GAAGF,GAAG,CAAC;EACrB,MAAMG,GAAG,GAAG,EAAE;EACd,OAAOA,GAAG,CAACC,MAAM,GAAGH,CAAC,IAAIC,IAAI,CAACE,MAAM,GAAG,CAAC,EAAE;IACxC,MAAMC,GAAG,GAAGC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAGN,IAAI,CAACE,MAAM,CAAC;IACnDD,GAAG,CAACM,IAAI,CAACP,IAAI,CAACQ,MAAM,CAACL,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAClC;EACA,OAAOF,GAAG;AACZ;AAEA,eAAe,SAASQ,QAAQA,CAAA,EAAG;EAAAC,EAAA;EAAA,IAAAC,iBAAA;EACjC,MAAMC,QAAQ,GAAGpB,WAAW,CAAC,CAAC;EAC9B,MAAMqB,QAAQ,GAAGpB,WAAW,CAAC,CAAC;EAC9B,MAAM;IAAEqB,QAAQ;IAAEC,KAAK;IAAEC;EAAK,CAAC,GAAGJ,QAAQ,CAACK,KAAK,IAAI,CAAC,CAAC;EAEtD,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAG5B,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAM,CAAC6B,SAAS,EAAEC,YAAY,CAAC,GAAG9B,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAAC+B,OAAO,EAAEC,UAAU,CAAC,GAAGhC,QAAQ,CAAC,CAAC,CAAC,CAAC;EAC1C,MAAM,CAACiC,UAAU,EAAEC,aAAa,CAAC,GAAGlC,QAAQ,CAAC,CAAC,CAAC;EAC/C,MAAM,CAACmC,OAAO,EAAEC,UAAU,CAAC,GAAGpC,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACqC,SAAS,EAAEC,YAAY,CAAC,GAAGtC,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACuC,KAAK,EAAEC,QAAQ,CAAC,GAAGxC,QAAQ,CAAC,CAAC,CAAC;EACrC,MAAM,CAACyC,WAAW,EAAEC,cAAc,CAAC,GAAG1C,QAAQ,CAAC,KAAK,CAAC;;EAErD;EACAD,SAAS,CAAC,MAAM;IACd,IAAI,CAACwB,QAAQ,IAAI,CAACC,KAAK,EAAE;MACvBF,QAAQ,CAAC,GAAG,CAAC;MACb;IACF;IAEA,MAAMqB,cAAc,GAAG,MAAAA,CAAA,KAAY;MACjC,IAAI;QACF,MAAMjC,GAAG,GAAG,MAAMP,GAAG,CAAC0B,SAAS,CAACe,MAAM,CAAC,CAAC;QACxChB,eAAe,CAAClB,GAAG,CAACmC,IAAI,IAAI,EAAE,CAAC;MACjC,CAAC,CAAC,OAAOC,GAAG,EAAE;QACZC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC;QAClBG,KAAK,CAAC,wCAAwC,CAAC;MACjD,CAAC,SAAS;QACRb,UAAU,CAAC,KAAK,CAAC;MACnB;IACF,CAAC;IAEDO,cAAc,CAAC,CAAC;EAClB,CAAC,EAAE,CAACpB,QAAQ,EAAEC,KAAK,EAAEF,QAAQ,CAAC,CAAC;;EAE/B;EACAvB,SAAS,CAAC,MAAM;IACd,IAAI,CAACoC,OAAO,IAAIR,YAAY,CAAChB,MAAM,GAAG,CAAC,EAAE;MACvC,MAAMuC,QAAQ,GAAG5C,UAAU,CAACqB,YAAY,EAAEd,IAAI,CAACsC,GAAG,CAAC1B,IAAI,IAAI,EAAE,EAAEE,YAAY,CAAChB,MAAM,CAAC,CAAC;MACpFmB,YAAY,CAACoB,QAAQ,CAAC;IACxB;EACF,CAAC,EAAE,CAACf,OAAO,EAAER,YAAY,EAAEF,IAAI,CAAC,CAAC;EAEjC,MAAM2B,YAAY,GAAGA,CAACC,UAAU,EAAEC,KAAK,KAAK;IAC1CtB,UAAU,CAAC;MAAE,GAAGD,OAAO;MAAE,CAACsB,UAAU,GAAGC;IAAM,CAAC,CAAC;EACjD,CAAC;EAED,MAAMC,MAAM,GAAGA,CAAA,KAAM;IACnB,IAAItB,UAAU,GAAGJ,SAAS,CAAClB,MAAM,GAAG,CAAC,EAAEuB,aAAa,CAACD,UAAU,GAAG,CAAC,CAAC;EACtE,CAAC;EACD,MAAMuB,MAAM,GAAGA,CAAA,KAAM;IACnB,IAAIvB,UAAU,GAAG,CAAC,EAAEC,aAAa,CAACD,UAAU,GAAG,CAAC,CAAC;EACnD,CAAC;;EAED;EACA,MAAMwB,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/B,IAAIC,MAAM,CAACC,IAAI,CAAC5B,OAAO,CAAC,CAACpB,MAAM,GAAGkB,SAAS,CAAClB,MAAM,EAAE;MAClD,IAAI,CAACiD,MAAM,CAACC,OAAO,CAAC,+CAA+C,CAAC,EAAE;IACxE;;IAEA;IACA,IAAIC,CAAC,GAAG,CAAC;IACTjC,SAAS,CAACkC,OAAO,CAAEC,CAAC,IAAK;MACvB,IAAIA,CAAC,CAACC,YAAY,KAAK,KAAK,IAAIlC,OAAO,CAACiC,CAAC,CAACE,GAAG,CAAC,KAAKF,CAAC,CAACG,aAAa,EAAEL,CAAC,IAAI,CAAC;IAC5E,CAAC,CAAC;IACFtB,QAAQ,CAACsB,CAAC,CAAC;IACXxB,YAAY,CAAC,IAAI,CAAC;;IAElB;IACA,MAAM8B,gBAAgB,GAAGvC,SAAS,CAACwC,GAAG,CAAEL,CAAC,KAAM;MAC7CM,QAAQ,EAAEN,CAAC,CAACO,YAAY;MACxBC,UAAU,EAAEzC,OAAO,CAACiC,CAAC,CAACE,GAAG,CAAC,IAAI,cAAc;MAC5CC,aAAa,EAAEH,CAAC,CAACG,aAAa,IAAI,EAAE;MACpCM,SAAS,EAAET,CAAC,CAACC,YAAY,KAAK,KAAK,GAAGlC,OAAO,CAACiC,CAAC,CAACE,GAAG,CAAC,KAAKF,CAAC,CAACG,aAAa,GAAG,IAAI;MAC/EO,IAAI,EAAEV,CAAC,CAACC,YAAY,IAAI;IAC1B,CAAC,CAAC,CAAC;IAEH,IAAI;MACF,MAAM9D,GAAG,CAACwE,KAAK,CAACC,MAAM,CAAC;QACrBC,IAAI,EAAEtD,QAAQ;QACdC,KAAK;QACLO,OAAO,EAAEqC,gBAAgB;QACzBU,cAAc,EAAEjD,SAAS,CAAClB,MAAM;QAChCoE,cAAc,EAAEjB,CAAC;QACjBkB,YAAY,EAAE,CAAElB,CAAC,GAAGjC,SAAS,CAAClB,MAAM,GAAI,GAAG,EAAEsE,OAAO,CAAC,CAAC;MACxD,CAAC,CAAC;MACFvC,cAAc,CAAC,IAAI,CAAC;IACtB,CAAC,CAAC,OAAOI,GAAG,EAAE;MACZC,OAAO,CAACC,KAAK,CAAC,sBAAsB,EAAEF,GAAG,CAAC;MAC1CG,KAAK,CAAC,kCAAkC,CAAC;IAC3C;EACF,CAAC;EAED,IAAId,OAAO,EAAE,oBAAO9B,OAAA;IAAK6E,SAAS,EAAC,4BAA4B;IAAAC,QAAA,EAAC;EAAkB;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAK,CAAC;EACxF,IAAI,CAAC1D,SAAS,IAAIA,SAAS,CAAClB,MAAM,KAAK,CAAC,EACtC,oBAAON,OAAA;IAAK6E,SAAS,EAAC,4BAA4B;IAAAC,QAAA,EAAC;EAAyC;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAK,CAAC;EAEpG,IAAIlD,SAAS,EAAE;IACb,oBACEhC,OAAA;MAAK6E,SAAS,EAAC,4BAA4B;MAAAC,QAAA,eACzC9E,OAAA;QAAK6E,SAAS,EAAC,qBAAqB;QAAAC,QAAA,gBAClC9E,OAAA;UAAI6E,SAAS,EAAC,cAAc;UAAAC,QAAA,EAAC;QAA2B;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAC7DlF,OAAA;UAAA8E,QAAA,gBAAG9E,OAAA;YAAA8E,QAAA,EAAS5D;UAAQ;YAAA6D,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAS,CAAC,MAAE,EAAC/D,KAAK,EAAC,GAAC;QAAA;UAAA4D,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,eAC5ClF,OAAA;UAAA8E,QAAA,GAAI,cAAY,EAAC5C,KAAK,EAAC,KAAG,EAACV,SAAS,CAAClB,MAAM;QAAA;UAAAyE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,EAEhD9C,WAAW,iBACVpC,OAAA;UAAK6E,SAAS,EAAC,0BAA0B;UAAAC,QAAA,EAAC;QAE1C;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CACN,eAEDlF,OAAA;UAAA+E,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eACNlF,OAAA;UAAA8E,QAAA,EAAI;QAAc;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACvBlF,OAAA;UAAA8E,QAAA,EACGtD,SAAS,CAACwC,GAAG,CAAC,CAACL,CAAC,EAAEpD,GAAG,kBACpBP,OAAA;YAAK6E,SAAS,EAAC,iBAAiB;YAAAC,QAAA,gBAC9B9E,OAAA;cAAA8E,QAAA,GAAG,GAAC,EAACvE,GAAG,GAAG,CAAC,EAAC,GAAC;YAAA;cAAAwE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG,CAAC,KAAC,EAACvB,CAAC,CAACO,YAAY,eAClClE,OAAA;cAAA8E,QAAA,GAAK,cACS,EAAC,GAAG,eAChB9E,OAAA;gBACE6E,SAAS,EACPlB,CAAC,CAACC,YAAY,KAAK,KAAK,GACpBlC,OAAO,CAACiC,CAAC,CAACE,GAAG,CAAC,KAAKF,CAAC,CAACG,aAAa,GAChC,cAAc,GACd,aAAa,GACf,cACL;gBAAAgB,QAAA,EAEApD,OAAO,CAACiC,CAAC,CAACE,GAAG,CAAC,IAAI;cAAc;gBAAAkB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC7B,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACJ,CAAC,EACLvB,CAAC,CAACC,YAAY,KAAK,KAAK,iBACvB5D,OAAA;cAAA8E,QAAA,GAAK,iBACY,EAAC,GAAG,eACnB9E,OAAA;gBAAM6E,SAAS,EAAC,cAAc;gBAAAC,QAAA,EAAEnB,CAAC,CAACG;cAAa;gBAAAiB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACpD,CACN;UAAA,GArBmCvB,CAAC,CAACE,GAAG;YAAAkB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAsBtC,CACN;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eAENlF,OAAA;UAAK6E,SAAS,EAAC,MAAM;UAAAC,QAAA,gBACnB9E,OAAA;YAAQ6E,SAAS,EAAC,sBAAsB;YAACM,OAAO,EAAEA,CAAA,KAAMlE,QAAQ,CAAC,GAAG,CAAE;YAAA6D,QAAA,EAAC;UAEvE;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACTlF,OAAA;YAAQ6E,SAAS,EAAC,2BAA2B;YAACM,OAAO,EAAEA,CAAA,KAAM5B,MAAM,CAACvC,QAAQ,CAACoE,MAAM,CAAC,CAAE;YAAAN,QAAA,EAAC;UAEvF;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAEV;EAEA,MAAMG,QAAQ,GAAG7D,SAAS,CAACI,UAAU,CAAC;EACtC,MAAM0D,cAAc,GAAG5D,OAAO,CAAC2D,QAAQ,CAACxB,GAAG,CAAC,IAAI,EAAE;EAElD,oBACE7D,OAAA;IAAK6E,SAAS,EAAC,gBAAgB;IAAAC,QAAA,eAC7B9E,OAAA;MAAK6E,SAAS,EAAC,gBAAgB;MAAAC,QAAA,gBAC7B9E,OAAA;QAAK6E,SAAS,EAAC,aAAa;QAAAC,QAAA,gBAC1B9E,OAAA;UAAA8E,QAAA,gBACE9E,OAAA;YAAI6E,SAAS,EAAC,qBAAqB;YAAAC,QAAA,GAAC,aACvB,EAAC5D,QAAQ,CAACqE,WAAW,CAAC,CAAC;UAAA;YAAAR,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAChC,CAAC,eACLlF,OAAA;YAAO6E,SAAS,EAAC,YAAY;YAAAC,QAAA,EAAE3D;UAAK;YAAA4D,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC1C,CAAC,eACNlF,OAAA;UAAA8E,QAAA,eACE9E,OAAA;YAAM6E,SAAS,EAAC,kBAAkB;YAAAC,QAAA,GAAC,WACxB,EAAClD,UAAU,GAAG,CAAC,EAAC,KAAG,EAACJ,SAAS,CAAClB,MAAM;UAAA;YAAAyE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACzC;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACJ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAENlF,OAAA;QAAK6E,SAAS,EAAC,WAAW;QAAAC,QAAA,gBACxB9E,OAAA;UAAI6E,SAAS,EAAC,eAAe;UAAAC,QAAA,gBAC3B9E,OAAA;YAAA8E,QAAA,EAAG;UAAE;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC,KAAC,EAACG,QAAQ,CAACnB,YAAY;QAAA;UAAAa,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC9B,CAAC,EAGJG,QAAQ,CAACzB,YAAY,KAAK,KAAK,IAAI,EAAA7C,iBAAA,GAAAsE,QAAQ,CAACG,OAAO,cAAAzE,iBAAA,uBAAhBA,iBAAA,CAAkBT,MAAM,IAAG,CAAC,gBAC9DN,OAAA;UAAK6E,SAAS,EAAC,mBAAmB;UAAAC,QAAA,EAC/BO,QAAQ,CAACG,OAAO,CAACxB,GAAG,CAAC,CAACyB,GAAG,EAAEC,CAAC,kBAC3B1F,OAAA;YAEE6E,SAAS,EAAE,eACTS,cAAc,KAAKG,GAAG,GAAG,UAAU,GAAG,EAAE,EACvC;YAAAX,QAAA,gBAEH9E,OAAA;cACEqE,IAAI,EAAC,OAAO;cACZG,IAAI,EAAE,YAAYa,QAAQ,CAACxB,GAAG,EAAG;cACjCZ,KAAK,EAAEwC,GAAI;cACXE,OAAO,EAAEL,cAAc,KAAKG,GAAI;cAChCG,QAAQ,EAAGC,CAAC,IAAK9C,YAAY,CAACsC,QAAQ,CAACxB,GAAG,EAAEgC,CAAC,CAACC,MAAM,CAAC7C,KAAK;YAAE;cAAA8B,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC7D,CAAC,EACDO,GAAG;UAAA,GAZCC,CAAC;YAAAX,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAaD,CACR;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,gBAENlF,OAAA;UACE6E,SAAS,EAAC,cAAc;UACxBkB,WAAW,EAAC,0BAA0B;UACtC9C,KAAK,EAAEqC,cAAe;UACtBM,QAAQ,EAAGC,CAAC,IAAK9C,YAAY,CAACsC,QAAQ,CAACxB,GAAG,EAAEgC,CAAC,CAACC,MAAM,CAAC7C,KAAK,CAAE;UAC5D+C,IAAI,EAAE;QAAE;UAAAjB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CACZ;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC,eAENlF,OAAA;QAAK6E,SAAS,EAAC,aAAa;QAAAC,QAAA,gBAC1B9E,OAAA;UAAA8E,QAAA,gBACE9E,OAAA;YACE6E,SAAS,EAAC,wBAAwB;YAClCM,OAAO,EAAEhC,MAAO;YAChB8C,QAAQ,EAAErE,UAAU,KAAK,CAAE;YAAAkD,QAAA,EAC5B;UAED;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACTlF,OAAA;YACE6E,SAAS,EAAC,mBAAmB;YAC7BM,OAAO,EAAEjC,MAAO;YAChB+C,QAAQ,EAAErE,UAAU,KAAKJ,SAAS,CAAClB,MAAM,GAAG,CAAE;YAAAwE,QAAA,EAC/C;UAED;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC,eAENlF,OAAA;UAAA8E,QAAA,gBACE9E,OAAA;YACE6E,SAAS,EAAC,qBAAqB;YAC/BM,OAAO,EAAEA,CAAA,KAAM;cACb,IAAI5B,MAAM,CAACC,OAAO,CAAC,6CAA6C,CAAC,EAC/DvC,QAAQ,CAAC,GAAG,CAAC;YACjB,CAAE;YAAA6D,QAAA,EACH;UAED;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACTlF,OAAA;YAAQ6E,SAAS,EAAC,iBAAiB;YAACM,OAAO,EAAE/B,YAAa;YAAA0B,QAAA,EAAC;UAE3D;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAApE,EAAA,CAnnBwBD,QAAQ;EAAA,QACbjB,WAAW,EACXC,WAAW;AAAA;AAAAqG,EAAA,GAFNrF,QAAQ;AAAA,IAAAqF,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}