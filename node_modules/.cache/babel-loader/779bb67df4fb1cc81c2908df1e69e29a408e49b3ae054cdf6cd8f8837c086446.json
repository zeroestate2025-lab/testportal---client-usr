{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\Downloads\\\\INTERVIEW PROCESS\\\\INTERVIEW PROCESS\\\\client\\\\src\\\\pages\\\\TestPage.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport API from \"../services/api\";\nimport QuestionCard from \"../components/QuestionCard\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction pickRandom(arr, n) {\n  const copy = [...arr];\n  const res = [];\n  while (res.length < n && copy.length > 0) {\n    const idx = Math.floor(Math.random() * copy.length);\n    res.push(copy.splice(idx, 1)[0]);\n  }\n  return res;\n}\nexport default function TestPage() {\n  _s();\n  const location = useLocation();\n  const navigate = useNavigate();\n  const {\n    fullName,\n    email,\n    numQ\n  } = location.state || {};\n  const [allQuestions, setAllQuestions] = useState([]);\n  const [questions, setQuestions] = useState([]);\n  const [answers, setAnswers] = useState({}); // { questionId: selectedOption }\n  const [currentIdx, setCurrentIdx] = useState(0);\n  const [loading, setLoading] = useState(true);\n  const [submitted, setSubmitted] = useState(false);\n  const [score, setScore] = useState(0);\n  useEffect(() => {\n    if (!fullName || !email) {\n      // if page opened without details -> back to home\n      navigate(\"/\");\n      return;\n    }\n    const fetchQuestions = async () => {\n      try {\n        const res = await API.get(\"/questions\");\n        setAllQuestions(res.data || []);\n      } catch (err) {\n        console.error(err);\n        alert(\"Failed to fetch questions from server.\");\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchQuestions();\n  }, [fullName, email, navigate]);\n  useEffect(() => {\n    if (!loading && allQuestions.length > 0) {\n      const chunk = pickRandom(allQuestions, Math.min(numQ || 10, allQuestions.length));\n      setQuestions(chunk);\n    }\n  }, [loading, allQuestions, numQ]);\n  const handleSelect = opt => {\n    const q = questions[currentIdx];\n    setAnswers({\n      ...answers,\n      [q._id]: opt\n    });\n  };\n  const goNext = () => {\n    if (currentIdx < questions.length - 1) setCurrentIdx(currentIdx + 1);\n  };\n  const goPrev = () => {\n    if (currentIdx > 0) setCurrentIdx(currentIdx - 1);\n  };\n  const handleSubmit = () => {\n    // ensure all answered\n    if (Object.keys(answers).length < questions.length) {\n      if (!window.confirm(\"Some questions are unanswered. Submit anyway?\")) return;\n    }\n\n    // compute score\n    let s = 0;\n    questions.forEach(q => {\n      if (answers[q._id] && answers[q._id] === q.correctAnswer) s += 1;\n    });\n    setScore(s);\n    setSubmitted(true);\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container container-center\",\n    children: \"Loading questions\\u2026\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 23\n  }, this);\n  if (!questions || questions.length === 0) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container container-center\",\n    children: \"No questions available. Please try later.\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 85,\n    columnNumber: 52\n  }, this);\n  if (submitted) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container container-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card card-clean p-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Test Completed\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: fullName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 14\n          }, this), \" (\", email, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: [\"Your score: \", score, \" out of \", questions.length]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n          children: \"Review\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: questions.map((q, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"b\", {\n              children: [\"Q\", idx + 1, \":\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 17\n            }, this), \" \", q.questionText, /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [\"Your answer: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: answers[q._id] === q.correctAnswer ? \"text-success\" : \"text-danger\",\n                children: answers[q._id] || \"Not answered\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 35\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [\"Correct answer: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-success\",\n                children: q.correctAnswer\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 38\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 17\n            }, this)]\n          }, q._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary me-2\",\n            onClick: () => navigate(\"/\"),\n            children: \"Back to Home\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-outline-secondary\",\n            onClick: () => window.location.reload(),\n            children: \"Take New Test\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this);\n  }\n  const currentQ = questions[currentIdx];\n  const selectedForCurrent = answers[currentQ._id];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container container-center\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card card-clean p-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex justify-content-between align-items-start\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            className: \"mb-0\",\n            children: [\"Candidate: \", fullName]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n            className: \"text-muted\",\n            children: email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"badge bg-primary\",\n            children: [\"Question \", currentIdx + 1, \" / \", questions.length]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-4\",\n        children: /*#__PURE__*/_jsxDEV(QuestionCard, {\n          question: currentQ,\n          selectedAnswer: selectedForCurrent,\n          onSelect: handleSelect\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-3 d-flex justify-content-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-secondary me-2\",\n            onClick: goPrev,\n            disabled: currentIdx === 0,\n            children: \"Previous\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-secondary\",\n            onClick: goNext,\n            disabled: currentIdx === questions.length - 1,\n            children: \"Next\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-danger me-2\",\n            onClick: () => {\n              if (window.confirm(\"Are you sure you want to abandon this test?\")) navigate(\"/\");\n            },\n            children: \"Abandon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-success\",\n            onClick: handleSubmit,\n            children: \"Submit Test\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 119,\n    columnNumber: 5\n  }, this);\n}\n_s(TestPage, \"0vh4LHJubDDPMGdSHliDgEYXZ0E=\", false, function () {\n  return [useLocation, useNavigate];\n});\n_c = TestPage;\nvar _c;\n$RefreshReg$(_c, \"TestPage\");","map":{"version":3,"names":["React","useEffect","useState","useLocation","useNavigate","API","QuestionCard","jsxDEV","_jsxDEV","pickRandom","arr","n","copy","res","length","idx","Math","floor","random","push","splice","TestPage","_s","location","navigate","fullName","email","numQ","state","allQuestions","setAllQuestions","questions","setQuestions","answers","setAnswers","currentIdx","setCurrentIdx","loading","setLoading","submitted","setSubmitted","score","setScore","fetchQuestions","get","data","err","console","error","alert","chunk","min","handleSelect","opt","q","_id","goNext","goPrev","handleSubmit","Object","keys","window","confirm","s","forEach","correctAnswer","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","questionText","onClick","reload","currentQ","selectedForCurrent","question","selectedAnswer","onSelect","disabled","_c","$RefreshReg$"],"sources":["C:/Users/HP/Downloads/INTERVIEW PROCESS/INTERVIEW PROCESS/client/src/pages/TestPage.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useLocation, useNavigate } from \"react-router-dom\";\r\nimport API from \"../services/api\";\r\nimport QuestionCard from \"../components/QuestionCard\";\r\n\r\nfunction pickRandom(arr, n) {\r\n  const copy = [...arr];\r\n  const res = [];\r\n  while (res.length < n && copy.length > 0) {\r\n    const idx = Math.floor(Math.random() * copy.length);\r\n    res.push(copy.splice(idx, 1)[0]);\r\n  }\r\n  return res;\r\n}\r\n\r\nexport default function TestPage() {\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n  const { fullName, email, numQ } = location.state || {};\r\n  const [allQuestions, setAllQuestions] = useState([]);\r\n  const [questions, setQuestions] = useState([]);\r\n  const [answers, setAnswers] = useState({}); // { questionId: selectedOption }\r\n  const [currentIdx, setCurrentIdx] = useState(0);\r\n  const [loading, setLoading] = useState(true);\r\n  const [submitted, setSubmitted] = useState(false);\r\n  const [score, setScore] = useState(0);\r\n\r\n  useEffect(() => {\r\n    if (!fullName || !email) {\r\n      // if page opened without details -> back to home\r\n      navigate(\"/\");\r\n      return;\r\n    }\r\n\r\n    const fetchQuestions = async () => {\r\n      try {\r\n        const res = await API.get(\"/questions\");\r\n        setAllQuestions(res.data || []);\r\n      } catch (err) {\r\n        console.error(err);\r\n        alert(\"Failed to fetch questions from server.\");\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchQuestions();\r\n  }, [fullName, email, navigate]);\r\n\r\n  useEffect(() => {\r\n    if (!loading && allQuestions.length > 0) {\r\n      const chunk = pickRandom(allQuestions, Math.min(numQ || 10, allQuestions.length));\r\n      setQuestions(chunk);\r\n    }\r\n  }, [loading, allQuestions, numQ]);\r\n\r\n  const handleSelect = (opt) => {\r\n    const q = questions[currentIdx];\r\n    setAnswers({ ...answers, [q._id]: opt });\r\n  };\r\n\r\n  const goNext = () => {\r\n    if (currentIdx < questions.length - 1) setCurrentIdx(currentIdx + 1);\r\n  };\r\n  const goPrev = () => {\r\n    if (currentIdx > 0) setCurrentIdx(currentIdx - 1);\r\n  };\r\n\r\n  const handleSubmit = () => {\r\n    // ensure all answered\r\n    if (Object.keys(answers).length < questions.length) {\r\n      if (!window.confirm(\"Some questions are unanswered. Submit anyway?\")) return;\r\n    }\r\n\r\n    // compute score\r\n    let s = 0;\r\n    questions.forEach((q) => {\r\n      if (answers[q._id] && answers[q._id] === q.correctAnswer) s += 1;\r\n    });\r\n    setScore(s);\r\n    setSubmitted(true);\r\n  };\r\n\r\n  if (loading) return <div className=\"container container-center\">Loading questions…</div>;\r\n  if (!questions || questions.length === 0) return <div className=\"container container-center\">No questions available. Please try later.</div>;\r\n\r\n  if (submitted) {\r\n    return (\r\n      <div className=\"container container-center\">\r\n        <div className=\"card card-clean p-4\">\r\n          <h3>Test Completed</h3>\r\n          <p><strong>{fullName}</strong> ({email})</p>\r\n          <h4>Your score: {score} out of {questions.length}</h4>\r\n          <hr />\r\n          <h5>Review</h5>\r\n          <div>\r\n            {questions.map((q, idx) => (\r\n              <div className=\"mb-3\" key={q._id}>\r\n                <b>Q{idx + 1}:</b> {q.questionText}\r\n                <div>Your answer: <span className={answers[q._id] === q.correctAnswer ? \"text-success\" : \"text-danger\"}>{answers[q._id] || \"Not answered\"}</span></div>\r\n                <div>Correct answer: <span className=\"text-success\">{q.correctAnswer}</span></div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n\r\n          <div className=\"mt-3\">\r\n            <button className=\"btn btn-primary me-2\" onClick={() => navigate(\"/\")}>Back to Home</button>\r\n            <button className=\"btn btn-outline-secondary\" onClick={() => window.location.reload()}>Take New Test</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const currentQ = questions[currentIdx];\r\n  const selectedForCurrent = answers[currentQ._id];\r\n\r\n  return (\r\n    <div className=\"container container-center\">\r\n      <div className=\"card card-clean p-4\">\r\n        <div className=\"d-flex justify-content-between align-items-start\">\r\n          <div>\r\n            <h5 className=\"mb-0\">Candidate: {fullName}</h5>\r\n            <small className=\"text-muted\">{email}</small>\r\n          </div>\r\n          <div>\r\n            <span className=\"badge bg-primary\">Question {currentIdx + 1} / {questions.length}</span>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"mt-4\">\r\n          <QuestionCard question={currentQ} selectedAnswer={selectedForCurrent} onSelect={handleSelect} />\r\n        </div>\r\n\r\n        <div className=\"mt-3 d-flex justify-content-between\">\r\n          <div>\r\n            <button className=\"btn btn-secondary me-2\" onClick={goPrev} disabled={currentIdx === 0}>Previous</button>\r\n            <button className=\"btn btn-secondary\" onClick={goNext} disabled={currentIdx === questions.length - 1}>Next</button>\r\n          </div>\r\n\r\n          <div>\r\n            <button className=\"btn btn-danger me-2\" onClick={() => {\r\n              if (window.confirm(\"Are you sure you want to abandon this test?\")) navigate(\"/\");\r\n            }}>Abandon</button>\r\n\r\n            <button className=\"btn btn-success\" onClick={handleSubmit}>Submit Test</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}